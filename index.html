<html><head>
<meta charset="utf-8">
<meta name="viewport" content="initial-scale=1.2, user-scalable=no">
<title>Planets</title>
<style>
pre {
    background: #eee;
    padding: 8px;
    width: 480px;
    height: 360px;
    overflow: auto;
}
</style>

<body>
<article>
<h1>Visit Planet</h1>

<p><button id="visit">Visit Star</button>

<p>Star: <span id="star"></span>
<p>Mass: <span id="mass"></span>
<p>Luminosity: <span id="luminosity"></span>
<p>Age: <span id="age"></span>
<p>Life: <span id="life"></span>
<p>Ecosphere: <span id="r_ecosphere"></span>
<pre></pre>
</article>

<script>
function randLetter() {
    return String.fromCharCode(Math.floor(Math.random() * 25) + 65);
}
document.querySelector("#visit").addEventListener("click", function () {
    // star name - random seed ABC123456
    // single, binary or trinary system (alpha, beta, gamma)
    // var starid = randLetter() + randLetter() + "-" + Math.floor(Math.random() * 10000);
    // starid += '/' + (Math.random() + 0.5000).toFixed(3);
    var starid = Math.floor(Math.random() * 2000000000);
    document.querySelector("#star").textContent = starid;
    var xhr = new XMLHttpRequest();
    xhr.open("GET", "http://localhost:3880/" + starid);
    xhr.onload = function () {
        var starData = JSON.parse(this.responseText);
        document.querySelector("pre").textContent = JSON.stringify(starData, null, "    ");
        document.querySelector("#mass").textContent = starData.mass;
        document.querySelector("#luminosity").textContent = starData.luminosity;
        document.querySelector("#life").textContent = starData.life;
        document.querySelector("#age").textContent = starData.age;
        document.querySelector("#r_ecosphere").textContent = starData.r_ecosphere;
    }
    xhr.send();
});
</script>
